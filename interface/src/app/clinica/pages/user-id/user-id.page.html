
<ion-progress-bar type="indeterminate" *ngIf="isLoading"></ion-progress-bar>

<ion-header *ngIf="!isLoading">
  <ion-toolbar>
    <!-- <ion-title class="agendar">Usuários</ion-title> -->
    <ion-buttons slot="end">
      <ion-button color="light" routerLink="/users">Cancelar</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content *ngIf="!isLoading">

  <!-- <ion-spinner name="circles" *ngIf="isLoading"></ion-spinner> -->
  <ion-progress-bar type="indeterminate" *ngIf="isLoading"></ion-progress-bar>

  <form #frm="ngForm" (ngSubmit)="ngSubmit(frm)" *ngIf="!isLoading">

    <!-- <ion-avatar slot="start" class="avatarId">
      <ion-img src="https://ionicframework.com/docs/img/demos/avatar.svg"></ion-img>
    </ion-avatar> -->

    <ion-item>
      <div class="circulo lime">
        <h2>{{ this.user.userName.slice(0, 1) }}</h2>
      </div>
    </ion-item>
    <ion-label position="stacked" class="cheked">*Todos os compos são obrigatórios</ion-label>
    <ion-item style="display: none;">
      <ion-input type="text" name="id" value="{{this.user.id}}" [(ngModel)]="user.id"></ion-input>
    </ion-item>

    <ion-item style="display: none;">
      <ion-input type="text" name="userPermission" value="{{this.user.userPermission}}" [(ngModel)]="user.userPermission"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Nome*</ion-label>
      <ion-input type="text" name="userName" value="{{this.user.userName}}" [(ngModel)]="user.userName" [clearInput]="true"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Sobrenome*</ion-label>
      <ion-input type="text" name="userLastName" value="{{this.user.userLastName}}" [(ngModel)]="user.userLastName" [clearInput]="true"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Data Nascimento*</ion-label>
      <ion-input type="text" name="userBirth" maxlength="10" value="{{this.birth}}" [(ngModel)]="this.birth" placeholder="Ex. 00000000" [clearInput]="true"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Telefone/Celular*</ion-label>
      <ion-input type="text" name="userPhone" maxlength="14" value="{{this.phone}}" [(ngModel)]="this.phone" placeholder="Ex. Telefone 1100000000 ou Celular 11000000000" [clearInput]="true"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">E-mail*</ion-label>
      <ion-input type="text" name="userEmail" value="{{this.user.userEmail}}" [(ngModel)]="user.userEmail" [clearInput]="true"></ion-input>
      <!-- <ion-input type="text" name="userEmail" value="{{this.user.userEmail}}" [(ngModel)]="user.userEmail"></ion-input> -->
    </ion-item>

    <ion-item>
      <ion-label position="stacked">CPF</ion-label>
      <ion-input type="text" name="userCpf" maxlength="14" value="{{this.cpf}}" [(ngModel)]="this.cpf" placeholder="Ex. 12345678910" [clearInput]="true"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Rua/Av</ion-label>
      <ion-input type="text" name="userAddress" value="{{this.user.userAddress}}" [(ngModel)]="user.userAddress" [clearInput]="true"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Número</ion-label>
      <ion-input type="text" name="userNumber" value="{{this.user.userNumber}}" [(ngModel)]="user.userNumber" [clearInput]="true"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Complemento</ion-label>
      <ion-input type="text" name="userComplement" value="{{this.user.userComplement}}" [(ngModel)]="user.userComplement" [clearInput]="true"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Cidade</ion-label>
      <ion-input type="text" name="userCity" value="{{this.user.userCity}}" [(ngModel)]="user.userCity" [clearInput]="true"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Estado</ion-label>
      <ion-input type="text" name="userState" value="{{this.user.userState}}" [(ngModel)]="user.userState" [clearInput]="true"></ion-input>
    </ion-item>

    <ion-item style="display: none;">
      <ion-input type="text" name="userPassword" value="{{ this.user.password}}" [(ngModel)]="user.password"></ion-input>
    </ion-item>

    <div class="criar">
      <ion-grid>
        <ion-row>
          <ion-col>
            <ion-button expand="block" color="success" type="submit" routerLink="/users"
            [disabled]="user.userName.length <= 0 || user.userLastName.length <= 0 || user.userBirth.length <= 0 || user.userPhone.length <= 0 || user.userEmail.length <= 0 || user.userCpf.length <= 0"
            ><ion-icon name="pencil-outline" class="icon"></ion-icon>
            </ion-button>
          </ion-col>
          <ion-col>
            <ion-button expand="block" color="success" type="submit" (click)="onDelete(this.user.id);">
              <ion-icon name="trash-bin-outline" class="icon"></ion-icon>
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>
  </form>
</ion-content>
